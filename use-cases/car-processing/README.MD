# Car Counter Data Pipeline (Requirements)

Car processing data pipeline reads car events from the `cars` and `licenses` topics and perform a series of operations:

* Identify speeding vehicles (filter-map). 
* Divides the events based on location (split).
* Counts the cars based on color (tumbling windows).
* Identifies stolen licencse plates (ref state).

Checkout the object diagram generated by `ssdk`:

<p align="center">
 <img src="img/car-processing.jpg">
</p>

## Event Generation

There are two event types that are are generated by a couple of http-source conectors streaming synthetic data from `data.infinyon.com`. 

#### Car Events Connector

The first connector reads `car events` at a rate of 2 events per second. The events model two semaphores, Saratoga and Sunnyvale and produce the following information:

```json
{
  "maker": "Fiat",
  "model": "124 Spider",
  "category": "Convertible",
  "color": "beige",
  "license": "7WPK493",
  "fuel": "gasoline",
  "location": "Saratoga",
  "mph": 43,
  "timestamp": "2024-03-14T16:12:10.493Z"
}
```

This connector sends events to `cars` topic.

#### License Plates Connector

The second connector reads `car licenses` every hour to emulates the database read of license places from an official organization such as  Department Motor Vechicles (DMV).


```json
[
  {
    "maker": "Toyota",
    "model": "Camry",
    "license": "0VTI452"
  },
  {
    "maker": "Ford",
    "model": "Fusion",
    "license": "7YHM485"
  },
  ...
]
```

The connector sends events to `licenses` topic.

## Use Cases





* Enrich car events with maker information (http call-out operation)
* Count all cars per maker continent for all locations (unbounded processing)
* Count cars based per maker for all locations (window processing - per minute)
* Computer average speed for each location (window processing - per minute)
* Detect Speeding - if a car is driving faster than 60 mph for all locations (window processing - per minute)
* Detect Annomaly - if 2 cars of different types have the same license plate per location (window processing - per minute)
* Filter out German cars (filter operation)
* Divide the events into 2 streams Saratoga, Sunnyvale (split operation)